<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Structured goodness of fit diagnostics. — gof • xpose4</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Structured goodness of fit diagnostics. — gof" />
<meta property="og:description" content="This is a template function for creating structured goodness of fit
diagnostics using the functions in the Xpose specific library." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">xpose4</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/UUPharmacometrics/xpose4">
    <span class="fab fa fab fa-github fa-lg"></span>
     
    Source
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Structured goodness of fit diagnostics.</h1>
    
    <div class="hidden name"><code>gof.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is a template function for creating structured goodness of fit
diagnostics using the functions in the Xpose specific library.</p>
    </div>

    <pre class="usage"><span class='fu'>gof</span>(
  <span class='kw'>runno</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>onefile</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>saveType</span> <span class='kw'>=</span> <span class='st'>"pdf"</span>,
  <span class='kw'>pageWidth</span> <span class='kw'>=</span> <span class='fl'>7.6</span>,
  <span class='kw'>pageHeight</span> <span class='kw'>=</span> <span class='fl'>4.9</span>,
  <span class='kw'>structural</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>residual</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>covariate</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>iiv</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>iov</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>myTrace</span> <span class='kw'>=</span> <span class='no'>xpPage</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>runno</th>
      <td><p>The run number fo Xpose to identify the appropriate files to
read. In addition <code>runno</code> is used to construct the file name to save
plots in. <code>runno</code> can also be <code>NULL</code> for cases in which the
function is used for non-Xpose based code.</p></td>
    </tr>
    <tr>
      <th>save</th>
      <td><p>Logical. <code>TRUE</code> if the plot(s) is to be saved in a file.
<code>FALSE</code> if the plot(s) is to be displayed on screen. The plot(s) will
be saved in a file named with the function name followed by the word 'run',
the run number, an order number followed by a file name extension
appropriate for the selected <code>saveType</code>. For example 'gofrun1-01.pdf'
for the first plot file created by a script called <code>gof</code> based on
output from run 1 and <code>saveType='pdf'</code>.</p></td>
    </tr>
    <tr>
      <th>onefile</th>
      <td><p>Logical. <code>TRUE</code> if plots are to be save in a single file
and <code>FALSE</code> if each plot should be saved as a separate file. In the
latter case, each file will be have an incremented order number (01-99).</p></td>
    </tr>
    <tr>
      <th>saveType</th>
      <td><p>The type of graphics file to produce if <code>save=TRUE</code>.
Allowed values are 'pdf' (default), 'wmf' (only Windows) and 'png'.</p></td>
    </tr>
    <tr>
      <th>pageWidth</th>
      <td><p>The width of the graphics device in inches.</p></td>
    </tr>
    <tr>
      <th>pageHeight</th>
      <td><p>The height of the graphics device in inches.</p></td>
    </tr>
    <tr>
      <th>structural</th>
      <td><p>Logical. <code>TRUE</code> if the code in the structural model
section (see below) should be executed and <code>FALSE</code> if not.</p></td>
    </tr>
    <tr>
      <th>residual</th>
      <td><p>Logical. <code>TRUE</code> if the code in the residual model
section (see below) should be executed and <code>FALSE</code> if not.</p></td>
    </tr>
    <tr>
      <th>covariate</th>
      <td><p>Logical. <code>TRUE</code> if the code in the covariate model
section (see below) should be executed and <code>FALSE</code> if not.</p></td>
    </tr>
    <tr>
      <th>iiv</th>
      <td><p>Logical. <code>TRUE</code> if the code in the IIV model section (see
below) should be executed and <code>FALSE</code> if not.</p></td>
    </tr>
    <tr>
      <th>iov</th>
      <td><p>Logical. <code>TRUE</code> if the code in the IOV model section (see
below) should be executed and <code>FALSE</code> if not.</p></td>
    </tr>
    <tr>
      <th>all</th>
      <td><p>Logical. <code>TRUE</code> if the code in all sections (see below)
should be executed.</p></td>
    </tr>
    <tr>
      <th>myTrace</th>
      <td><p><code>NULL</code> or the name of a function. The value of
<code>myTrace</code> can used with the lattice <code>page=</code> argument to annotate
plots for traceability.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Does not return anything unless the user specify a return value.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>gof</code> function is provided as a template to facilitate the
(structured) use of the functions in the Xpose specific library. Xpose
specific is extensively described in the 'Xpose Bestiary'.</p>
<p>The function can be renamed so that multiple scripts can be used in
parallel.</p>
<p>The function is set up to make it easy to display plots on screen as well as
to save them in files. In the latter case, plots are save in a sub-directory
called 'Plots'.</p>
<p>The arguments <code>structural</code>, <code>residual</code>, <code>covariate</code>,
<code>iiv</code>, <code>iov</code> and <code>all</code> are just "switches" to different parts
of the code (if-blocks). These blocks can be removed or the default values
of the arguments changed to better suit the needs of the user.</p>
<p>It is also possible to add tracing information to the produced plots. This
is done via the <code>myTrace</code> argument. A non-NULL value should be a
function that returns a <code>panel.text</code> object. The default is the
<code>xpPage</code> function that will put a string concatenated from the device
name, function name, working directory and date, in small, faint grey, font
at the bottom of each graph page. Note that the user need to add
<code>page=myTrace</code> as an argument to the Xpose functions for this to have
an effect.</p>
<p>The function calls a support function called <code>gofSetup</code>, which is
responsible for setting up the graphics device and determining the file
names for saved graphs.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='xpose4-package.html'>xpose4-package</a></code></p>
<p>Other generic functions: 
<code><a href='xpose.multiple.plot.html'>xpose.multiple.plot</a></code>,
<code><a href='xpose4-package.html'>xpose4-package</a></code></p>
<p>Other specific functions: 
<code><a href='absval.cwres.vs.cov.bw.html'>absval.cwres.vs.cov.bw</a>()</code>,
<code><a href='absval.cwres.vs.pred.by.cov.html'>absval.cwres.vs.pred.by.cov</a>()</code>,
<code><a href='absval.cwres.vs.pred.html'>absval.cwres.vs.pred</a>()</code>,
<code><a href='absval.iwres.cwres.vs.ipred.pred.html'>absval.iwres.cwres.vs.ipred.pred</a>()</code>,
<code><a href='absval.iwres.vs.cov.bw.html'>absval.iwres.vs.cov.bw</a>()</code>,
<code><a href='absval.iwres.vs.idv.html'>absval.iwres.vs.idv</a>()</code>,
<code><a href='absval.iwres.vs.ipred.by.cov.html'>absval.iwres.vs.ipred.by.cov</a>()</code>,
<code><a href='absval.iwres.vs.ipred.html'>absval.iwres.vs.ipred</a>()</code>,
<code><a href='absval.iwres.vs.pred.html'>absval.iwres.vs.pred</a>()</code>,
<code><a href='absval.wres.vs.cov.bw.html'>absval.wres.vs.cov.bw</a>()</code>,
<code><a href='absval.wres.vs.idv.html'>absval.wres.vs.idv</a>()</code>,
<code><a href='absval.wres.vs.pred.by.cov.html'>absval.wres.vs.pred.by.cov</a>()</code>,
<code><a href='absval.wres.vs.pred.html'>absval.wres.vs.pred</a>()</code>,
<code><a href='absval_delta_vs_cov_model_comp.html'>absval_delta_vs_cov_model_comp</a></code>,
<code><a href='addit.gof.html'>addit.gof</a>()</code>,
<code><a href='autocorr.cwres.html'>autocorr.cwres</a>()</code>,
<code><a href='autocorr.iwres.html'>autocorr.iwres</a>()</code>,
<code><a href='autocorr.wres.html'>autocorr.wres</a>()</code>,
<code><a href='basic.gof.html'>basic.gof</a>()</code>,
<code><a href='basic.model.comp.html'>basic.model.comp</a>()</code>,
<code><a href='cat.dv.vs.idv.sb.html'>cat.dv.vs.idv.sb</a>()</code>,
<code><a href='cat.pc.html'>cat.pc</a>()</code>,
<code><a href='par_cov_splom.html'>cov.splom</a>()</code>,
<code><a href='cwres.dist.hist.html'>cwres.dist.hist</a>()</code>,
<code><a href='cwres.dist.qq.html'>cwres.dist.qq</a>()</code>,
<code><a href='cwres.vs.cov.html'>cwres.vs.cov</a>()</code>,
<code><a href='cwres.vs.idv.bw.html'>cwres.vs.idv.bw</a>()</code>,
<code><a href='cwres.vs.idv.html'>cwres.vs.idv</a>()</code>,
<code><a href='cwres.vs.pred.bw.html'>cwres.vs.pred.bw</a>()</code>,
<code><a href='cwres.vs.pred.html'>cwres.vs.pred</a>()</code>,
<code><a href='cwres_wres_vs_x.html'>cwres_wres_vs_x</a></code>,
<code><a href='dOFV.vs.cov.html'>dOFV.vs.cov</a>()</code>,
<code><a href='dOFV.vs.id.html'>dOFV.vs.id</a>()</code>,
<code><a href='dOFV1.vs.dOFV2.html'>dOFV1.vs.dOFV2</a>()</code>,
<code><a href='data.checkout.html'>data.checkout</a>()</code>,
<code><a href='dv.preds.vs.idv.html'>dv.preds.vs.idv</a>()</code>,
<code><a href='dv.vs.idv.html'>dv.vs.idv</a>()</code>,
<code><a href='dv.vs.ipred.by.cov.html'>dv.vs.ipred.by.cov</a>()</code>,
<code><a href='dv.vs.ipred.by.idv.html'>dv.vs.ipred.by.idv</a>()</code>,
<code><a href='dv.vs.ipred.html'>dv.vs.ipred</a>()</code>,
<code><a href='dv.vs.pred.by.cov.html'>dv.vs.pred.by.cov</a>()</code>,
<code><a href='dv.vs.pred.by.idv.html'>dv.vs.pred.by.idv</a>()</code>,
<code><a href='dv.vs.pred.ipred.html'>dv.vs.pred.ipred</a>()</code>,
<code><a href='dv.vs.pred.html'>dv.vs.pred</a>()</code>,
<code><a href='ind.plots.wres.hist.html'>ind.plots.cwres.hist</a>()</code>,
<code><a href='ind.plots.wres.qq.html'>ind.plots.cwres.qq</a>()</code>,
<code><a href='ind.plots.html'>ind.plots</a>()</code>,
<code><a href='ipred.vs.idv.html'>ipred.vs.idv</a>()</code>,
<code><a href='iwres.dist.hist.html'>iwres.dist.hist</a>()</code>,
<code><a href='iwres.dist.qq.html'>iwres.dist.qq</a>()</code>,
<code><a href='iwres.vs.idv.html'>iwres.vs.idv</a>()</code>,
<code><a href='kaplan.plot.html'>kaplan.plot</a>()</code>,
<code><a href='par_cov_hist.html'>par_cov_hist</a></code>,
<code><a href='par_cov_qq.html'>par_cov_qq</a></code>,
<code><a href='parm.vs.cov.html'>parm.vs.cov</a>()</code>,
<code><a href='parm.vs.parm.html'>parm.vs.parm</a>()</code>,
<code><a href='pred.vs.idv.html'>pred.vs.idv</a>()</code>,
<code><a href='ranpar.vs.cov.html'>ranpar.vs.cov</a>()</code>,
<code><a href='runsum.html'>runsum</a>()</code>,
<code><a href='wres.dist.hist.html'>wres.dist.hist</a>()</code>,
<code><a href='wres.dist.qq.html'>wres.dist.qq</a>()</code>,
<code><a href='wres.vs.idv.bw.html'>wres.vs.idv.bw</a>()</code>,
<code><a href='wres.vs.idv.html'>wres.vs.idv</a>()</code>,
<code><a href='wres.vs.pred.bw.html'>wres.vs.pred.bw</a>()</code>,
<code><a href='wres.vs.pred.html'>wres.vs.pred</a>()</code>,
<code><a href='xpose.VPC.both.html'>xpose.VPC.both</a>()</code>,
<code><a href='xpose.VPC.categorical.html'>xpose.VPC.categorical</a>()</code>,
<code><a href='xpose.VPC.html'>xpose.VPC</a>()</code>,
<code><a href='xpose4-package.html'>xpose4-package</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'>## This is an example of how the function may be setup by a user.</span>

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>xpose4</span>)
<span class='no'>mygof</span> <span class='kw'>&lt;-</span> <span class='no'>gof</span>
<span class='fu'><a href='https://rdrr.io/r/utils/fix.html'>fix</a></span>(<span class='no'>mygof</span>)

<span class='no'>myggof</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span> (<span class='no'>runno</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>save</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>onefile</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>saveType</span> <span class='kw'>=</span> <span class='st'>"pdf"</span>,
         <span class='no'>pageWidth</span> <span class='kw'>=</span> <span class='fl'>7.6</span>, <span class='no'>pageHeight</span> <span class='kw'>=</span> <span class='fl'>4.9</span>, <span class='no'>structural</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>residual</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
         <span class='no'>covariate</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>iiv</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>iov</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>all</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>myTrace</span><span class='kw'>=</span><span class='no'>xpPage</span>) {

         <span class='fu'>gofSetup</span>(<span class='no'>runno</span>, <span class='no'>save</span>, <span class='no'>onefile</span>, <span class='no'>saveType</span>, <span class='no'>pageWidth</span>, <span class='no'>pageHeight</span>)
         <span class='no'>xpdb</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xpose.data.html'>xpose.data</a></span>(<span class='no'>runno</span>)

         <span class='kw'>if</span> (<span class='no'>structural</span> <span class='kw'>||</span> <span class='no'>all</span>) {
          <span class='no'>xplot</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dv.vs.pred.ipred.html'>dv.vs.pred.ipred</a></span>(<span class='no'>xpdb</span>, <span class='kw'>page</span> <span class='kw'>=</span> <span class='no'>myPage</span>)
          <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>xplot</span>)
         }
         <span class='kw'>if</span> (<span class='no'>residual</span> <span class='kw'>||</span> <span class='no'>all</span>) {
          <span class='no'>xplot</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='absval.wres.vs.pred.html'>absval.wres.vs.pred</a></span>(<span class='no'>xpdb</span>, <span class='kw'>page</span> <span class='kw'>=</span> <span class='no'>myPage</span>)
          <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>xplot</span>)
         }
         <span class='kw'>if</span> (<span class='no'>covariate</span> <span class='kw'>||</span> <span class='no'>all</span>) {
         }
         <span class='kw'>if</span> (<span class='no'>iiv</span> <span class='kw'>||</span> <span class='no'>all</span>) {
         }
         <span class='kw'>if</span> (<span class='no'>iov</span> <span class='kw'>||</span> <span class='no'>all</span>) {
         }
         <span class='kw'>if</span> (<span class='no'>save</span>) <span class='fu'><a href='https://rdrr.io/r/grDevices/dev.html'>dev.off</a></span>()
    <span class='fu'><a href='https://rdrr.io/r/base/invisible.html'>invisible</a></span>()
  }

<span class='co'>## The function can then be execute, e.g.:</span>
<span class='fu'>mygof</span>(<span class='fl'>1</span>)

}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>E. Niclas Jonsson, Mats Karlsson and Andrew Hooker</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://katalog.uu.se/profile/?id=N4-631'>Andrew C. Hooker</a>, Mats O. Karlsson, Justin J. Wilkins, E. Niclas Jonsson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


